version: '3.8'

services:
  e-kitap:
    build: .
    container_name: e-kitap
    restart: unless-stopped
    ports:
      - "5050:5050"
    volumes:
      # Harddisk kütüphanesi - CasaOS üzerinde bu yolu ayarlayın
      - "/mnt/seagate/2. KUTUPHANE:/library:ro"
      # SQLite veritabanı kalıcılığı
      - e-kitap-data:/app/data
    environment:
      - NODE_ENV=production
      - PORT=5050
      - DB_PATH=/app/data/library.db
      - LIBRARY_PATH=/library

volumes:
  e-kitap-data:
    driver: local
